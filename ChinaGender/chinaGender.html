<html>
<head>
    <title>How does China Perform in Gender Difference?</title>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- <link href="https://fonts.googleapis.com/css?family=Hind+Madurai|Patua+One" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css?family=Assistant:800|Hind+Madurai|Patua+One|Source+Sans+Pro:300" rel="stylesheet">

    <link href="chinaGenderStyle.css" rel="stylesheet">

</head>

<body>
    <div class="intro">
            <a target="_blank" href="https://manyunzou.github.io/"><img src="M.png" style="width: 50px;" /></a>
    </div>

    <h1>How is <span class="h1-china">China's</span> 
        <br/><span class="h1-underline">Gender Gap</span> Progress?</h1>

    <p class="article-byline">By Manyun Zou</span></p>

    <p class="article-content">
        Out of the 142 countries covered by the index both this year and last year, 60 countries have seen it decrease, according to 2017 Global Gender Gap Report. China is one of them. This year, China scores <span class="article-hightlight">0.674 out of 1</span>, <span class="article-hightlight">ranking 100th in 144 countries</span> while it gained 0.676 last year, and ranked 99th in 144 countries.
    </p>

    <p class="article-content" style="margin-bottom: 40px">
        It may not be fair for China to take all the blames for the declining score. After all, for the first time ever since 2006, <span class="article-hightlight">the global gender gap is widening</span>. (We slipped to 0.68, compared to 0.683 last year.) To see China's problems more clearly, we need to compare it to other countries with a similar background. Therefore, we picked four background categories: <span class="article-hightlight">Asia</span>, <span class="article-hightlight">communist states</span>, <span class="article-hightlight">global GDP top 10</span>, and <span class="article-hightlight">global population top 10</span>. 
    </p>

    <div id="all-asia-container">
        <div class="button-group01">
        <button id="all-asia-button">Show Asia</button><button id="all-asia-button-hide">Hide Asia</button>
        </div>

        <div class="button-group">
        <button id="all-comm-button">Show Communist States</button><button id="all-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="button-group">
        <button id="all-gdp-button">Show GDP TOP 10</button><button id="all-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="button-group">
        <button id="all-popu-button">Show Population Top 10</button><button id="all-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-all"></div>
        <p class="chart-sidenote">*Drag/Scroll bars to zoom in chart</p>
    </div>
    <!-- End of all asia container -->


    <!-- gg-all graphic code -->
    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 1200 - margin.left - margin.right,
        height = 180 - margin.top - margin.bottom;

    d3.queue()
        .defer(d3.csv, "China_all.csv", type)
        .await(ready);

    function ready(error, data){
        if(error) throw error;

        var svg_all = d3.select("#gg-all")
                    .append("svg")
                        .attr("width", width + margin.left + margin.right)
                        .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.top + "," + margin.left + ")")
                    .attr("id","gg-all-graphic")
                    .call(d3.zoom().on("zoom", zoom));

        svg_all.append("line")
            .style("stroke","black")
            .attr("x1", 0)
            .attr("y1", 80)
            .attr("x2", 2300)
            .attr("y2", 80)
            .style("stroke", "#999999");

        // For zoom in, name every part of the axis separately
        var x = d3.scaleLinear()
                    .domain([0.5,0.8])
                    .range([0, width]);

        var xAxis = d3.axisBottom(x);

        var x_axis = svg_all.append("g")
                        .attr("id","x_axis")
                        .attr("transform", "translate(75,0)")
                        .call(xAxis);

        var bars = svg_all.selectAll(".bar")
                        .data(data)
                    .enter().append("rect")
                        .attr("x", function(d){
                            if(d.Global > 0){
                                return x(d.Global);
                            } else {
                                return x(0);
                            }
                        })
                        .attr("width", function(d){
                            if(d.Countries == "Average"){
                                return 2;
                            } else {
                                return 5;
                            }
                        })
                        .attr("y", 50)
                        .attr("height", 60)
                        .attr("class", function(d){return d.Countries + " " + d.Category1 + " " + d.Category2 + " " + d.Category3 + " " + d.Category4; })
                        .attr("fill", function(d){
                            if (d.Countries == "China"){
                                return "#C8515F";
                            } else if (d.Countries == "Average"){
                                return "#2589BD"
                            } else {
                            return "rgba(201, 201, 201,0.6)"};
                        });


//Append text here
        var barsNumbers = svg_all.selectAll("text.bar")
                                .data(data)
                            .enter().append("text")
                                .attr("class", function(d){return d.Countries + "-numbers" + " " + d.Category1 + "-numbers" + " " + d.Category2 + "-numbers" + " " + d.Category3 + "-numbers" + " " + d.Category4 + "-numbers"; })
                                .attr("text-anchor","middle")
                                .attr("x", function(d){
                                        if(d.Global > 0){
                                            return x(d.Global);
                                        } else {
                                            return x(0);
                                        }
                                    })
                                .attr("y", 130)
                                .text(function(d){return d.Global})
                                .style("visibility", function(d){
                                    if (d.Countries == "China"){
                                            return "visible";
                                        } else {
                                        return "hidden"};
                                });

         var barsText =  svg_all.selectAll("text.bar")
                                .data(data)
                            .enter().append("text")
                                .attr("class", function(d){return d.Countries + "-text" + " " + d.Category1 + "-text" + " " + d.Category2 + "-text" + " " + d.Category3 + "-text" + " " + d.Category4 + "-text"; })
                                .attr("text-anchor","middle")
                                .attr("x", function(d){
                                        if(d.Global > 0){
                                            return x(d.Global);
                                        } else {
                                            return x(0);
                                        }
                                    })
                                .attr("y", 40)
                                .text(function(d){return d.Countries})
                                .style("visibility", function(d){
                                    if (d.Countries == "China"){
                                            return "visible";
                                        } 
                                        // else if (d.Countries == "Average"){
                                        //     return "visible"
                                        // }
                                        else {
                                        return "hidden"};
                                });


        function zoom(){
           svg_all.transition()
                .duration(50)
                .call(xAxis.scale(d3.event.transform.rescaleX(x)));

            var new_xScale = d3.event.transform.rescaleX(x);
            bars.attr("x",function(d){
                                if(d.Global > 0){
                                    return new_xScale(d.Global);
                                } else {
                                    return new_xScale(0);
                                }
            });
            barsNumbers.attr("x",function(d){
                                if(d.Global > 0){
                                    return new_xScale(d.Global);
                                } else {
                                    return new_xScale(0);
                                }
            })
                        .style("stroke", function(d) {
                            if(d.Countries == "China"){
                                return "#C8515F";
                            } else {
                                return "#000"
                            }
                        });
            barsText.attr("x",function(d){
                                if(d.Global > 0){
                                    return new_xScale(d.Global);
                                } else {
                                    return new_xScale(0);
                                }
            })
                        .style("stroke",function(d) {
                            if(d.Countries == "China"){
                                return "#C8515F";
                            } else {
                                return "#000"
                            }
                        });
    };

    // For legend
    svg_all.append("line")
            .style("stroke","black")
            .attr("x1", 0)
            .attr("y1", 140)
            .attr("x2", 25)
            .attr("y2", 140)
            .style("stroke", "#2589BD")
            .style("stroke-width", "3");

    svg_all.append("text")
            .attr("x", 35)
            .attr("y", 145)
            .style("font-size", "13px")
            .text("Global Weighted Average: 0.68");


    };
    // End of function ready()


    function type(d) {
        d.Global = +d.Global;
        return d;
    };


    </script>

    <script>
    $("#all-asia-button").click(function(){
        $(".Asia").css("fill","#324167");
        $(".Asia-text").css("visibility","visible");
        $(".Asia-numbers").css("visibility","visible");
    });

    $("#all-asia-button-hide").click(function(){
        $(".Asia").css("fill","rgba(201, 201, 201,0.6)");
        $(".Asia-text").css("visibility","hidden");
        $(".Asia-numbers").css("visibility","hidden");
    });

    // var asiaChange = true;
    // var asiaChange2 = true;

    // $("#all-asia-button").click(function(){
    //     $(".Asia-text").css("visibility","visible");
    // })

    // toggle(function(){
    //         $(".Asia").css("fill","#324167");
    //         // $(".Asia-text").css("visibility","visible");
    //         // $(".Asia-numbers").css("visibility","visible");
    //     }, function() {
    //         $(".Asia").css("fill","rgba(201, 201, 201,0.6)");
    //         // $(".Asia-text").css("visibility","hidden");
    //         // $(".Asia-numbers").css("visibility","hidden");
    //     });


    $("#all-comm-button").click(function(){
        $(".Social").css("fill","#5AB0CD");
        $(".Social-text").css("visibility","visible");
        $(".Social-numbers").css("visibility","visible");
    });

    $("#all-comm-button-hide").click(function(){
        $(".Social").css("fill","rgba(201, 201, 201,0.6)");
        $(".Social-text").css("visibility","hidden");
        $(".Social-numbers").css("visibility","hidden");
    });

    $("#all-gdp-button").click(function(){
        $(".GDP").css("fill","#005E7C");
        $(".GDP-text").css("visibility","visible");
        $(".GDP-numbers").css("visibility","visible");
    });

    $("#all-gdp-button-hide").click(function(){
        $(".GDP").css("fill","rgba(201, 201, 201,0.6)");
        $(".GDP-text").css("visibility","hidden");
        $(".GDP-numbers").css("visibility","hidden");
    });

    $("#all-popu-button").click(function(){
        $(".Popu").css("fill","#9BBEC7");
        $(".Popu-text").css("visibility","visible");
        $(".Popu-numbers").css("visibility","visible");
    });

    $("#all-popu-button-hide").click(function(){
        $(".Popu").css("fill","rgba(201, 201, 201,0.6)");
        $(".Popu-text").css("visibility","hidden");
        $(".Popu-numbers").css("visibility","hidden");
    });


    </script>

    <p class="article-content" style="margin-top: 30px">
        Under Asia category, China stands in a middle position, ranking 12th out of 22 countries. The Philippines achieves the highest index, 0.79 while Pakistan lists the last, with a score of 0.546. Surprisingly (and understandingly), Japan and Korea, two developed countries, rank even lower than China. Japan scores 0.657 and Korea gains 0.65. Perhaps Chinese traditional culture like Confucius culture may play a key role here.
    </p>

    <p class="article-content">
        Within four communist states, despite China's most promising economy, it finds itself in the bottom, with a large gap (0.024) from the second last, Vietnam. A similar problem happens when it facing the GDP top 10 group. While China has the second highest GDP, it is third to last on this list. The two other countries are India and Japan. When it comes to the population top 10 group, things are not getting better either. China is last but three. Bangladesh ranks the first in this list, with its high political empowerment performance, while the United States ranks the second. 
    </p>

    <p class="article-content">
        Now let's zoom in more. The gender gap index is composed of four subindexes: <span class="article-hightlight">economic participation and opportunity</span>, <span class="article-hightlight">educational attainment</span>, <span class="article-hightlight">health and survival</span>, and <span class="article-hightlight">political empowerment</span>. Since any two factors may influence each other in some ways, we paired up all of them. 
    </p>

    <div class="compare-gg-container">
        <h3 class="compare-gg-title">Economic Participation and Opportunity <span class="compare-gg-vs">vs</span> Educational Attainment</h3>

        <div class="compare-button-group01">
        <button id="econEdu-asia-button">Show Asia</button><button id="econEdu-asia-button-hide">Hide Asia</button>
        </div>

        <div class="compare-button-group">
        <button id="econEdu-comm-button">Show Communist States</button><button id="econEdu-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="compare-button-group">
        <button id="econEdu-gdp-button">Show GDP TOP 10</button><button id="econEdu-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="compare-button-group">
        <button id="econEdu-popu-button">Show Population Top 10</button><button id="econEdu-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-compare-econEdu"></div>
    </div>

    <!-- gg-compare-econEdu graphic code -->
    <script type="text/javascript">
    var com_margin = {top: 20, right: 20, bottom: 70, left: 60},
        com_width = 1200 - margin.left - margin.right,
        com_height = 300 - margin.top - margin.bottom;

    var xScale = d3.scaleLinear()
        .range([0, com_width]);

    var yScale = d3.scaleLinear()
        .range([com_height, 0]);

    var xAxis_com = d3.axisBottom(xScale)
                        .ticks(5)
                        .tickSize(0)
                        .tickPadding(10);

    var yAxis_com = d3.axisLeft(yScale)
                        .ticks(3)
                        .tickSize(0)
                        .tickPadding(10);

    var svg_com_econEdu = d3.select("#gg-compare-econEdu").append("svg")
            .attr("width", com_width + com_margin.left + com_margin.right)
            .attr("height", com_height + com_margin.top + com_margin.bottom)
        .append("g")
            .attr("transform", "translate(" + com_margin.left + "," + com_margin.top + ")");

    d3.queue()
        .defer(d3.csv, "gg-eduecon.csv")
        .await(ready);

    function ready(error, eduEcon){
        if (error) throw error;

        xScale.domain([0,1]);
        yScale.domain([0,1]);

        var node = svg_com_econEdu.selectAll("g")
                    .data(eduEcon)
                .enter()
                    .append("g");

// Add tooltips
        var econEdu_tooltip = d3.select("#gg-compare-econEdu").append("div")
                            .attr("class","tooltip")
                            .style("opacity", 0);

        var econEdu_tipMouseover = function(d){
            var html = "<span class='tooltip-countries'>" + d.Countries + "</span><br/>Economy: " + d.Econ + "<br/>Education: " + d.Edu;

            econEdu_tooltip.html(html)
                    .style("left", (d3.event.pageX -30) + "px")
                    .style("top", (d3.event.pageY + 20) + "px")
                .transition()
                    .duration(100) // ms
                      .style("opacity", .9) // started as 0!
        };

        var econEdu_tipMouseout = function(d){
            econEdu_tooltip.transition()
                    .duration(300)
                    .style("opacity", 0);
        };

        node.append("circle")
            .attr("class","dot")
            .attr("cx", function(d) {return xScale(d.Econ); })
            .attr("cy", function(d) {return yScale(d.Edu); })
            .attr("r", 3.5)
            .style("fill", function(d){
                    if (d.Countries == "China"){
                        return "#C8515F";
                    } else {
                        return "rgb(201, 201, 201)";
                    }
                })
                .style("stroke", function(d){
                    if (d.Countries == "China"){
                        return "none";
                    } else {
                        return "#999";
                    }
            })
            .attr("class", function(d){
                if (d.Category1 == "Asia"){
                        return "econEdu-asia";
                    } else if (d.Category2 == "GDP"){
                        return "econEdu-GDP";
                    } else if (d.Category3 == "Popu"){
                        return "econEdu-Popu";
                    } else if (d.Category4 == "Social"){
                        return "econEdu-Social";
                    } else if (d.Countries == "China"){
                        return "econEdu-China";
                    }
            })
            .on("mouseover", econEdu_tipMouseover)
            .on("mouseout", econEdu_tipMouseout);

        node.append("text")
            .attr("x", function(d){return xScale(d.Econ) -20;})
            .attr("y", function(d){return yScale(d.Edu) + 20; })
            .text(function(d){
                return d.Countries;
            })
            .style("visibility", function(d){
                if (d.Countries == "China"){
                    return "visible";
                } else {
                    return "hidden";
                }
            });

        svg_com_econEdu.append("text")
                .attr("transform",
                    "translate(" + (com_width/2) + "," + (com_height + com_margin.top + 20) + ")")
                .style("text-anchor", "middle")
                .style("font-size", "13px")
                .style("fill","#5D5D5D")
                .text("Economic Participation and Opportunity");

        svg_com_econEdu.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", (0 - com_margin.left))
              .attr("x",0 - (com_height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "13px")
              .style("fill","#5D5D5D")
              .text("Educational Attainment");   

        svg_com_econEdu.append("g")
                .attr("transform","translate(0," + com_height + ")")
                .call(xAxis_com);

        svg_com_econEdu.append("g")
                .call(yAxis_com);

// Add average line
        svg_com_econEdu.append("line")
                .attr("x1", 673)
                .attr("x2", 673)
                .attr("y1", 0)
                .attr("y2", 260)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        svg_com_econEdu.append("line")
                .attr("x1", 0)
                .attr("x2", 1170)
                .attr("y1", 13)
                .attr("y2", 13)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

// For legend
        svg_com_econEdu.append("line")
                .style("stroke","black")
                .attr("x1", 0)
                .attr("y1", 320)
                .attr("x2", 30)
                .attr("y2", 320)
                .style("stroke","black")
                .style("stroke-width","1")
                .style("stroke-dasharray", ("3, 4"));

        svg_com_econEdu.append("text")
                .attr("x", 40)
                .attr("y", 325)
                .style("font-size", "13px")
                .text("Global Weighted Average");

    }
    // End of ready function code



    </script>

    <script>
    $("#econEdu-asia-button").click(function(){
        $(".econEdu-asia").css("fill","#324167");
        // $(".Asia-text").css("visibility","visible");
        // $(".Asia-numbers").css("visibility","visible");
    });

    $("#econEdu-asia-button-hide").click(function(){
        $(".econEdu-asia").css("fill","rgba(201, 201, 201,0.6)");
        // $(".Asia-text").css("visibility","hidden");
        // $(".Asia-numbers").css("visibility","hidden");
    });

    $("#econEdu-comm-button").click(function(){
        $(".econEdu-Social").css("fill","#5AB0CD");
        // $(".Social-text").css("visibility","visible");
        // $(".Social-numbers").css("visibility","visible");
    });

    $("#econEdu-comm-button-hide").click(function(){
        $(".econEdu-Social").css("fill","rgba(201, 201, 201,0.6)");
        // $(".Social-text").css("visibility","hidden");
        // $(".Social-numbers").css("visibility","hidden");
    });

    $("#econEdu-gdp-button").click(function(){
        $(".econEdu-GDP").css("fill","#005E7C");
        // $(".GDP-text").css("visibility","visible");
        // $(".GDP-numbers").css("visibility","visible");
    });

    $("#econEdu-gdp-button-hide").click(function(){
        $(".econEdu-GDP").css("fill","rgba(201, 201, 201,0.6)");
        // $(".GDP-text").css("visibility","hidden");
        // $(".GDP-numbers").css("visibility","hidden");
    });

    $("#econEdu-popu-button").click(function(){
        $(".econEdu-Popu").css("fill","#9BBEC7");
        // $(".Popu-text").css("visibility","visible");
        // $(".Popu-numbers").css("visibility","visible");
    });

    $("#econEdu-popu-button-hide").click(function(){
        $(".econEdu-Popu").css("fill","rgba(201, 201, 201,0.6)");
        // $(".Popu-text").css("visibility","hidden");
        // $(".Popu-numbers").css("visibility","hidden");
    });


    </script>

    <p class="article-content" style="margin-top: 50px">
        <b>Economic Participation and Opportunity vs Educational attainment: </b> This is the best pair for China, with both indexes higher than the average number. However, it still has a long way to go, because this might be the best pair for a lot of countries on this list. On the graphic, a group of circles gathers on the top right (high education, high economy) while China is almost at the bottom left of the group. 
    </p>

    <div class="compare-gg-container">

    <h3 class="compare-gg-title">Economic Participation and Opportunity  <span class="compare-gg-vs">vs</span>  Health and Survival</h3>

        <div class="compare-button-group01">
        <button id="econHealth-asia-button">Show Asia</button><button id="econHealth-asia-button-hide">Hide Asia</button>
        </div>

        <div class="compare-button-group">
        <button id="econHealth-comm-button">Show Communist States</button><button id="econHealth-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="compare-button-group">
        <button id="econHealth-gdp-button">Show GDP TOP 10</button><button id="econHealth-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="compare-button-group">
        <button id="econHealth-popu-button">Show Population Top 10</button><button id="econHealth-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-compare-econHealth"></div>
    </div>

    <!-- gg-compare-econHealth graphic code -->
    <script type="text/javascript">

    var econHealth_margin = {top: 20, right: 20, bottom: 70, left: 60},
        econHealth_width = 1200 - margin.left - margin.right,
        econHealth_height = 300 - margin.top - margin.bottom;

    var xScale_econHealth = d3.scaleLinear()
        .range([0, econHealth_width]);

    var yScale_econHealth = d3.scaleLinear()
        .range([econHealth_height, 0]);

    var xAxis_econHealth = d3.axisBottom(xScale_econHealth)
                        .ticks(5)
                        .tickSize(0)
                        .tickPadding(10);

    var yAxis_econHealth = d3.axisLeft(yScale_econHealth)
                        .ticks(3)
                        .tickSize(0)
                        .tickPadding(10);

    var svg_econHealth = d3.select("#gg-compare-econHealth").append("svg")
            .attr("width", econHealth_width + econHealth_margin.left + econHealth_margin.right)
            .attr("height", econHealth_height + econHealth_margin.top + econHealth_margin.bottom)
        .append("g")
            .attr("transform", "translate(" + econHealth_margin.left + "," + econHealth_margin.top + ")");

    d3.queue()
        .defer(d3.csv, "gg_econhealth.csv")
        .await(ready);

    function ready(error, econHealth){
        if (error) throw error;

        xScale_econHealth.domain([0,1]);
        yScale_econHealth.domain([0,1]);

        var node_econHealth = svg_econHealth.selectAll("g")
                    .data(econHealth)
                .enter()
                    .append("g");

        // Add tooltips
        var econHealth_tooltip = d3.select("#gg-compare-econHealth").append("div")
                            .attr("class","tooltip")
                            .style("opacity", 0);

        var econHealth_tipMouseover = function(d){
            var html = "<span class='tooltip-countries'>" + d.Countries + "</span><br/>Economy: " + d.Econ + "<br/>Health: " + d.Health;

            econHealth_tooltip.html(html)
                    .style("left", (d3.event.pageX -30) + "px")
                    .style("top", (d3.event.pageY + 20) + "px")
                .transition()
                    .duration(100) // ms
                      .style("opacity", .9) // started as 0!
        };

        var econHealth_tipMouseout = function(d){
            econHealth_tooltip.transition()
                    .duration(300)
                    .style("opacity", 0);
        };

        node_econHealth.append("circle")
            .attr("class","dot")
            .attr("cx", function(d) {return xScale_econHealth(d.Econ); })
            .attr("cy", function(d) {return yScale_econHealth(d.Health); })
            .attr("r", 3.5)
            .style("fill", function(d){
                    if (d.Countries == "China"){
                        return "#C8515F";
                    } else {
                        return "rgb(201, 201, 201)";
                    }
                })
                .style("stroke", function(d){
                    if (d.Countries == "China"){
                        return "none";
                    } else {
                        return "#999";
                    }
            })
            .attr("class", function(d){
                if (d.Category1 == "Asia"){
                        return "econHealth-asia";
                    } else if (d.Category2 == "GDP"){
                        return "econHealth-GDP";
                    } else if (d.Category3 == "Popu"){
                        return "econHealth-Popu";
                    } else if (d.Category4 == "Social"){
                        return "econHealth-Social";
                    } else if (d.Countries == "China"){
                        return "econHealth-China";
                    }
            })
            .on("mouseover", econHealth_tipMouseover)
            .on("mouseout", econHealth_tipMouseout);

        node_econHealth.append("text")
            .attr("x", function(d){return xScale_econHealth(d.Econ) -20;})
            .attr("y", function(d){return yScale_econHealth(d.Health) + 20; })
            .text(function(d){
                return d.Countries;
            })
            .style("visibility", function(d){
                if (d.Countries == "China"){
                    return "visible";
                } else {
                    return "hidden";
                }
            });

        svg_econHealth.append("text")
                .attr("transform",
                    "translate(" + (econHealth_width/2) + "," + (econHealth_height + econHealth_margin.top + 20) + ")")
                .style("text-anchor", "middle")
                .style("font-size", "13px")
                .style("fill","#5D5D5D")
                .text("Economic Participation and Opportunity");

        svg_econHealth.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", (0 - econHealth_margin.left))
              .attr("x",0 - (econHealth_height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "13px")
              .style("fill","#5D5D5D")
              .text("Health and Survival");   


        svg_econHealth.append("g")
                .attr("transform","translate(0," + econHealth_height + ")")
                .call(xAxis_econHealth);

        svg_econHealth.append("g")
                .call(yAxis_econHealth);

// Add average line
        svg_econHealth.append("line")
                .attr("x1", 673)
                .attr("x2", 673)
                .attr("y1", 0)
                .attr("y2", 260)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        svg_econHealth.append("line")
                .attr("x1", 0)
                .attr("x2", 1170)
                .attr("y1", 10.5)
                .attr("y2", 10.5)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        // For legend
        svg_econHealth.append("line")
                .style("stroke","black")
                .attr("x1", 0)
                .attr("y1", 320)
                .attr("x2", 30)
                .attr("y2", 320)
                .style("stroke","black")
                .style("stroke-width","1")
                .style("stroke-dasharray", ("3, 4"));

        svg_econHealth.append("text")
                .attr("x", 40)
                .attr("y", 325)
                .style("font-size", "13px")
                .text("Global Weighted Average");


    };
    // End of ready function


    </script>

        <script>
    $("#econHealth-asia-button").click(function(){
        $(".econHealth-asia").css("fill","#324167");
    });

    $("#econHealth-asia-button-hide").click(function(){
        $(".econHealth-asia").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#econHealth-comm-button").click(function(){
        $(".econHealth-Social").css("fill","#5AB0CD");
    });

    $("#econHealth-comm-button-hide").click(function(){
        $(".econHealth-Social").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#econHealth-gdp-button").click(function(){
        $(".econHealth-GDP").css("fill","#005E7C");
    });

    $("#econHealth-gdp-button-hide").click(function(){
        $(".econHealth-GDP").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#econHealth-popu-button").click(function(){
        $(".econHealth-Popu").css("fill","#9BBEC7");
    });

    $("#econHealth-popu-button-hide").click(function(){
        $(".econHealth-Popu").css("fill","rgba(201, 201, 201,0.6)");
    });


    </script>

    <p class="article-content" style="margin-top: 50px">
        <b>Economic Participation and Opportunity vs Health and Survival: </b> In this pair, China's dot acts like an outlier on the chart. While the majority countries' health and survival indexes are close to 1, China's index is lower than the average number... a lot. The country's detail explains why. While sex ratio at birth global average is 0.956, China's index is 0.87. It reminds me of all the tragic news stories related to patriarchal tradition.
    </p>

    <div class="compare-gg-container">
        <h3 class="compare-gg-title">Economic Participation and Opportunity  <span class="compare-gg-vs">vs</span> Political Empowerment</h3>

        <div class="compare-button-group01">
        <button id="econPoli-asia-button">Show Asia</button><button id="econPoli-asia-button-hide">Hide Asia</button>
        </div>

        <div class="compare-button-group">
        <button id="econPoli-comm-button">Show Communist States</button><button id="econPoli-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="compare-button-group">
        <button id="econPoli-gdp-button">Show GDP TOP 10</button><button id="econPoli-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="compare-button-group">
        <button id="econPoli-popu-button">Show Population Top 10</button><button id="econPoli-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-compare-econPoli"></div>
    </div>

    <!-- gg-compare-econPoli graphic code -->
    <script type="text/javascript">

    var econPoli_margin = {top: 20, right: 20, bottom: 70, left: 60},
        econPoli_width = 1200 - margin.left - margin.right,
        econPoli_height = 300 - margin.top - margin.bottom;

    var xScale_econPoli = d3.scaleLinear()
        .range([0, econPoli_width]);

    var yScale_econPoli = d3.scaleLinear()
        .range([econPoli_height, 0]);

    var xAxis_econPoli = d3.axisBottom(xScale_econPoli)
                        .ticks(5)
                        .tickSize(0)
                        .tickPadding(10);

    var yAxis_econPoli = d3.axisLeft(yScale_econPoli)
                        .ticks(3)
                        .tickSize(0)
                        .tickPadding(10);

    var svg_econPoli = d3.select("#gg-compare-econPoli").append("svg")
            .attr("width", econPoli_width + econPoli_margin.left + econPoli_margin.right)
            .attr("height", econPoli_height + econPoli_margin.top + econPoli_margin.bottom)
        .append("g")
            .attr("transform", "translate(" + econPoli_margin.left + "," + econPoli_margin.top + ")");

    d3.queue()
        .defer(d3.csv, "gg_econpoli.csv")
        .await(ready);

    function ready(error, econPoli){
        if (error) throw error;

        xScale_econPoli.domain([0,1]);
        yScale_econPoli.domain([0,1]);

        var node_econPoli = svg_econPoli.selectAll("g")
                    .data(econPoli)
                .enter()
                    .append("g");

        // Add tooltips
        var econPoli_tooltip = d3.select("#gg-compare-econPoli").append("div")
                            .attr("class","tooltip")
                            .style("opacity", 0);

        var econPoli_tipMouseover = function(d){
            var html = "<span class='tooltip-countries'>" + d.Countries + "</span><br/>Economy: " + d.Econ + "<br/>Political: " + d.Poli;

            econPoli_tooltip.html(html)
                    .style("left", (d3.event.pageX -30) + "px")
                    .style("top", (d3.event.pageY + 20) + "px")
                .transition()
                    .duration(100) // ms
                      .style("opacity", .9) // started as 0!
        };

        var econPoli_tipMouseout = function(d){
            econPoli_tooltip.transition()
                    .duration(300)
                    .style("opacity", 0);
        };

        node_econPoli.append("circle")
            .attr("class","dot")
            .attr("cx", function(d) {return xScale_econPoli(d.Econ); })
            .attr("cy", function(d) {return yScale_econPoli(d.Poli); })
            .attr("r", 3.5)
            .style("fill", function(d){
                    if (d.Countries == "China"){
                        return "#C8515F";
                    } else {
                        return "rgb(201, 201, 201)";
                    }
                })
                .style("stroke", function(d){
                    if (d.Countries == "China"){
                        return "none";
                    } else {
                        return "#999";
                    }
            })
            .attr("class", function(d){
                if (d.Category1 == "Asia"){
                        return "econPoli-asia";
                    } else if (d.Category2 == "GDP"){
                        return "econPoli-GDP";
                    } else if (d.Category3 == "Popu"){
                        return "econPoli-Popu";
                    } else if (d.Category4 == "Social"){
                        return "econPoli-Social";
                    } else if (d.Countries == "China"){
                        return "econPoli-China";
                    }
            })
            .on("mouseover", econPoli_tipMouseover)
            .on("mouseout", econPoli_tipMouseout);

        node_econPoli.append("text")
            .attr("x", function(d){return xScale_econPoli(d.Econ) -20;})
            .attr("y", function(d){return yScale_econPoli(d.Poli) - 10; })
            .text(function(d){
                return d.Countries;
            })
            .style("visibility", function(d){
                if (d.Countries == "China"){
                    return "visible";
                } else {
                    return "hidden";
                }
            });

        svg_econPoli.append("text")
                .attr("transform",
                    "translate(" + (econPoli_width/2) + "," + (econPoli_height + econPoli_margin.top + 20) + ")")
                .style("text-anchor", "middle")
                .style("font-size", "13px")
                .style("fill","#5D5D5D")
                .text("Economic Participation and Opportunity");

        svg_econPoli.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", (0 - econPoli_margin.left))
              .attr("x",0 - (econPoli_height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "13px")
              .style("fill","#5D5D5D")
              .text("Political Empowerment");   

        svg_econPoli.append("g")
                .attr("transform","translate(0," + econPoli_height + ")")
                .call(xAxis_econPoli);

        svg_econPoli.append("g")
                .call(yAxis_econPoli);

// Add average line
        svg_econPoli.append("line")
                .attr("x1", 673)
                .attr("x2", 673)
                .attr("y1", 0)
                .attr("y2", 260)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        svg_econPoli.append("line")
                .attr("x1", 0)
                .attr("x2", 1170)
                .attr("y1", 200)
                .attr("y2", 200)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        // For legend
        svg_econPoli.append("line")
                .style("stroke","black")
                .attr("x1", 0)
                .attr("y1", 320)
                .attr("x2", 30)
                .attr("y2", 320)
                .style("stroke","black")
                .style("stroke-width","1")
                .style("stroke-dasharray", ("3, 4"));

        svg_econPoli.append("text")
                .attr("x", 40)
                .attr("y", 325)
                .style("font-size", "13px")
                .text("Global Weighted Average");

    }


    </script>

    <script>
    $("#econPoli-asia-button").click(function(){
        $(".econPoli-asia").css("fill","#324167");
    });

    $("#econPoli-asia-button-hide").click(function(){
        $(".econPoli-asia").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#econPoli-comm-button").click(function(){
        $(".econPoli-Social").css("fill","#5AB0CD");
    });

    $("#econPoli-comm-button-hide").click(function(){
        $(".econPoli-Social").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#econPoli-gdp-button").click(function(){
        $(".econPoli-GDP").css("fill","#005E7C");
    });

    $("#econPoli-gdp-button-hide").click(function(){
        $(".econPoli-GDP").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#econPoli-popu-button").click(function(){
        $(".econPoli-Popu").css("fill","#9BBEC7");
    });

    $("#econPoli-popu-button-hide").click(function(){
        $(".econPoli-Popu").css("fill","rgba(201, 201, 201,0.6)");
    });


    </script>

    <p class="article-content" style="margin-top: 50px">
        <b>Economic Participation and Opportunity vs Political Empowerment: </b> Surprisingly, China's performance in political empowerment seems okay compared to this group of countries. Although its index is lower than the average number, it stands on top of many other countries, including the United States, Singapore, Russia, Japan, and Korea (which even has a female president before). 
    </p>

    <div class="compare-gg-container">

    <h3 class="compare-gg-title">Educational Attainment  <span class="compare-gg-vs">vs</span> Health and Survival</h3>

        <div class="compare-button-group01">
        <button id="eduHealth-asia-button">Show Asia</button><button id="eduHealth-asia-button-hide">Hide Asia</button>
        </div>

        <div class="compare-button-group">
        <button id="eduHealth-comm-button">Show Communist States</button><button id="eduHealth-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="compare-button-group">
        <button id="eduHealth-gdp-button">Show GDP TOP 10</button><button id="eduHealth-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="compare-button-group">
        <button id="eduHealth-popu-button">Show Population Top 10</button><button id="eduHealth-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-compare-eduHealth"></div>
    </div>

    <!-- gg-compare-eduHeath graphic code -->
    <script type="text/javascript">

    var eduHealth_margin = {top: 20, right: 20, bottom: 70, left: 60},
        eduHealth_width = 1200 - margin.left - margin.right,
        eduHealth_height = 300 - margin.top - margin.bottom;

    var xScale_eduHealth = d3.scaleLinear()
        .range([0, eduHealth_width]);

    var yScale_eduHealth = d3.scaleLinear()
        .range([eduHealth_height, 0]);

    var xAxis_eduHealth = d3.axisBottom(xScale_eduHealth)
                        .ticks(5)
                        .tickSize(0)
                        .tickPadding(10);

    var yAxis_eduHealth = d3.axisLeft(yScale_eduHealth)
                        .ticks(3)
                        .tickSize(0)
                        .tickPadding(10);

    var svg_eduHealth = d3.select("#gg-compare-eduHealth").append("svg")
            .attr("width", eduHealth_width + eduHealth_margin.left + eduHealth_margin.right)
            .attr("height", eduHealth_height + eduHealth_margin.top + eduHealth_margin.bottom)
        .append("g")
            .attr("transform", "translate(" + eduHealth_margin.left + "," + eduHealth_margin.top + ")");

    d3.queue()
        .defer(d3.csv, "gg-eduhealth.csv")
        .await(ready);

    function ready(error, eduHealth){
        if (error) throw error;

        xScale_eduHealth.domain([0,1]);
        yScale_eduHealth.domain([0,1]);

        var node_eduHealth = svg_eduHealth.selectAll("g")
                    .data(eduHealth)
                .enter()
                    .append("g");

        // Add tooltips
        var eduHealth_tooltip = d3.select("#gg-compare-eduHealth").append("div")
                            .attr("class","tooltip")
                            .style("opacity", 0);

        var eduHealth_tipMouseover = function(d){
            var html = "<span class='tooltip-countries'>" + d.Countries + "</span><br/>Education: " + d.Edu + "<br/>Health: " + d.Health;

            eduHealth_tooltip.html(html)
                    .style("left", (d3.event.pageX -30) + "px")
                    .style("top", (d3.event.pageY + 20) + "px")
                .transition()
                    .duration(100) // ms
                      .style("opacity", .9) // started as 0!
        };

        var eduHealth_tipMouseout = function(d){
            eduHealth_tooltip.transition()
                    .duration(300)
                    .style("opacity", 0);
        };

        node_eduHealth.append("circle")
            .attr("class","dot")
            .attr("cx", function(d) {return xScale_eduHealth(d.Edu); })
            .attr("cy", function(d) {return yScale_eduHealth(d.Health); })
            .attr("r", 3.5)
            .style("fill", function(d){
                    if (d.Countries == "China"){
                        return "#C8515F";
                    } else {
                        return "rgb(201, 201, 201)";
                    }
                })
                .style("stroke", function(d){
                    if (d.Countries == "China"){
                        return "none";
                    } else {
                        return "#999";
                    }
            })
            .attr("class", function(d){
                if (d.Category1 == "Asia"){
                        return "eduHealth-asia";
                    } else if (d.Category2 == "GDP"){
                        return "eduHealth-GDP";
                    } else if (d.Category3 == "Popu"){
                        return "eduHealth-Popu";
                    } else if (d.Category4 == "Social"){
                        return "eduHealth-Social";
                    } else if (d.Countries == "China"){
                        return "eduHealth-China";
                    }
            })
            .on("mouseover", eduHealth_tipMouseover)
            .on("mouseout", eduHealth_tipMouseout);

        node_eduHealth.append("text")
            .attr("x", function(d){return xScale_eduHealth(d.Edu) -20;})
            .attr("y", function(d){return yScale_eduHealth(d.Health) + 20; })
            .text(function(d){
                return d.Countries;
            })
            .style("visibility", function(d){
                if (d.Countries == "China"){
                    return "visible";
                } else {
                    return "hidden";
                }
            });

// X-axis Label
        svg_eduHealth.append("text")
                .attr("transform",
                    "translate(" + (eduHealth_width/2) + "," + (eduHealth_height + eduHealth_margin.top + 20) + ")")
                .style("text-anchor", "middle")
                .style("font-size", "13px")
                .style("fill","#5D5D5D")
                .text("Educational Attainment");

// Y-axis Label
        svg_eduHealth.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", (0 - eduHealth_margin.left))
              .attr("x",0 - (eduHealth_height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "13px")
              .style("fill","#5D5D5D")
              .text("Health and Survival");   

        svg_eduHealth.append("g")
                .attr("transform","translate(0," + eduHealth_height + ")")
                .call(xAxis_eduHealth);

        svg_eduHealth.append("g")
                .call(yAxis_eduHealth);

// Add average line
        svg_eduHealth.append("line")
                .attr("x1", 1102)
                .attr("x2", 1102)
                .attr("y1", 0)
                .attr("y2", 260)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        svg_eduHealth.append("line")
                .attr("x1", 0)
                .attr("x2", 1170)
                .attr("y1", 10)
                .attr("y2", 10)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        // For legend
         svg_eduHealth.append("line")
                .style("stroke","black")
                .attr("x1", 0)
                .attr("y1", 320)
                .attr("x2", 30)
                .attr("y2", 320)
                .style("stroke","black")
                .style("stroke-width","1")
                .style("stroke-dasharray", ("3, 4"));

         svg_eduHealth.append("text")
                .attr("x", 40)
                .attr("y", 325)
                .style("font-size", "13px")
                .text("Global Weighted Average");

    }



    </script>

    <script>
    $("#eduHealth-asia-button").click(function(){
        $(".eduHealth-asia").css("fill","#324167");
    });

    $("#eduHealth-asia-button-hide").click(function(){
        $(".eduHealth-asia").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#eduHealth-comm-button").click(function(){
        $(".eduHealth-Social").css("fill","#5AB0CD");
    });

    $("#eduHealth-comm-button-hide").click(function(){
        $(".eduHealth-Social").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#eduHealth-gdp-button").click(function(){
        $(".eduHealth-GDP").css("fill","#005E7C");
    });

    $("#eduHealth-gdp-button-hide").click(function(){
        $(".eduHealth-GDP").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#eduHealth-popu-button").click(function(){
        $(".eduHealth-Popu").css("fill","#9BBEC7");
    });

    $("#eduHealth-popu-button-hide").click(function(){
        $(".eduHealth-Popu").css("fill","rgba(201, 201, 201,0.6)");
    });


    </script>


    <p class="article-content" style="margin-top: 50px">
        <b>Economic Participation and Opportunity vs Health and Survival: </b> Personally speaking, this may be the worst pair for China. Although it passes the average number in the educational attainment index, China is lagging behind many countries. We might think better economy brings better education. However, countries with lower GDP like Mongolia, Myanmar, Brunei can offer more equal education opportunities to female. 
    </p>

    <p class="article-content">
        More importantly, this pair represents the most basic rights to human. If the female cannot be guaranteed with equal health quality and education right, how can they compete with the male in terms of economic and political occasions?
    </p>

    <div class="compare-gg-container">

        <h3 class="compare-gg-title"> Political Empowerment <span class="compare-gg-vs">vs</span> Educational Attainment</h3>

        <div class="compare-button-group01">
        <button id="poliEdu-asia-button">Show Asia</button><button id="poliEdu-asia-button-hide">Hide Asia</button>
        </div>

        <div class="compare-button-group">
        <button id="poliEdu-comm-button">Show Communist States</button><button id="poliEdu-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="compare-button-group">
        <button id="poliEdu-gdp-button">Show GDP TOP 10</button><button id="poliEdu-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="compare-button-group">
        <button id="poliEdu-popu-button">Show Population Top 10</button><button id="poliEdu-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-compare-eduPoli"></div>

    </div>

    <!-- gg-compare-eduHeath graphic code -->
    <script type="text/javascript">

    var eduPoli_margin = {top: 20, right: 20, bottom: 70, left: 60},
        eduPoli_width = 1200 - margin.left - margin.right,
        eduPoli_height = 300 - margin.top - margin.bottom;

    var xScale_eduPoli = d3.scaleLinear()
        .range([0, eduPoli_width]);

    var yScale_eduPoli = d3.scaleLinear()
        .range([eduPoli_height, 0]);

    var xAxis_eduPoli = d3.axisBottom(xScale_eduPoli)
                        .ticks(5)
                        .tickSize(0)
                        .tickPadding(10);

    var yAxis_eduPoli = d3.axisLeft(yScale_eduPoli)
                        .ticks(3)
                        .tickSize(0)
                        .tickPadding(10);

    var svg_eduPoli = d3.select("#gg-compare-eduPoli").append("svg")
            .attr("width", eduPoli_width + eduPoli_margin.left + eduPoli_margin.right)
            .attr("height", eduPoli_height + eduPoli_margin.top + eduPoli_margin.bottom)
        .append("g")
            .attr("transform", "translate(" + eduPoli_margin.left + "," + eduPoli_margin.top + ")");

    d3.queue()
        .defer(d3.csv, "gg-edupoli.csv")
        .await(ready);

    function ready(error, eduPoli){
        if (error) throw error;

        xScale_eduPoli.domain([0,1]);
        yScale_eduPoli.domain([0,1]);

        var node_eduPoli = svg_eduPoli.selectAll("g")
                    .data(eduPoli)
                .enter()
                    .append("g");

        // Add tooltips
        var eduPoli_tooltip = d3.select("#gg-compare-eduPoli").append("div")
                            .attr("class","tooltip")
                            .style("opacity", 0);

        var eduPoli_tipMouseover = function(d){
            var html = "<span class='tooltip-countries'>" + d.Countries + "</span><br/>Political: " + d.Poli + "<br/>Education: " + d.Edu;

            eduPoli_tooltip.html(html)
                    .style("left", (d3.event.pageX -30) + "px")
                    .style("top", (d3.event.pageY + 20) + "px")
                .transition()
                    .duration(100) // ms
                      .style("opacity", .9) // started as 0!
        };

        var eduPoli_tipMouseout = function(d){
            eduPoli_tooltip.transition()
                    .duration(300)
                    .style("opacity", 0);
        };


        node_eduPoli.append("circle")
            .attr("class","dot")
            .attr("cx", function(d) {return xScale_eduPoli(d.Poli); })
            .attr("cy", function(d) {return yScale_eduPoli(d.Edu); })
            .attr("r", 3.5)
            .style("fill", function(d){
                    if (d.Countries == "China"){
                        return "#C8515F";
                    } else {
                        return "rgb(201, 201, 201)";
                    }
                })
            .style("stroke", function(d){
                    if (d.Countries == "China"){
                        return "none";
                    } else {
                        return "#999";
                    }
            })
            .attr("class", function(d){
                if (d.Category1 == "Asia"){
                        return "poliEdu-asia";
                    } else if (d.Category2 == "GDP"){
                        return "poliEdu-GDP";
                    } else if (d.Category3 == "Popu"){
                        return "poliEdu-Popu";
                    } else if (d.Category4 == "Social"){
                        return "poliEdu-Social";
                    } else if (d.Countries == "China"){
                        return "poliEdu-China";
                    }
            })
            .on("mouseover", eduPoli_tipMouseover)
            .on("mouseout", eduPoli_tipMouseout);

        node_eduPoli.append("text")
            .attr("x", function(d){return xScale_eduPoli(d.Poli) -20;})
            .attr("y", function(d){return yScale_eduPoli(d.Edu) - 10; })
            .text(function(d){
                return d.Countries;
            })
            .style("visibility", function(d){
                if (d.Countries == "China"){
                    return "visible";
                } else {
                    return "hidden";
                }
            });

// X-axis Label
        svg_eduPoli.append("text")
                .attr("transform",
                    "translate(" + (eduPoli_width/2) + "," + (eduPoli_height + eduPoli_margin.top + 20) + ")")
                .style("text-anchor", "middle")
                .style("font-size", "13px")
                .style("fill","#5D5D5D")
                .text("Political Empowerment");

// Y-axis Label
        svg_eduPoli.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", (0 - eduPoli_margin.left))
              .attr("x",0 - (eduPoli_height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "13px")
              .style("fill","#5D5D5D")
              .text("Educational Attainment");   



        svg_eduPoli.append("g")
                .attr("transform","translate(0," + eduPoli_height + ")")
                .call(xAxis_eduPoli);

        svg_eduPoli.append("g")
                .call(yAxis_eduPoli);

// Add average line
        svg_eduPoli.append("line")
                .attr("x1", 267)
                .attr("x2", 267)
                .attr("y1", 0)
                .attr("y2", 260)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        svg_eduPoli.append("line")
                .attr("x1", 0)
                .attr("x2", 1170)
                .attr("y1", 13)
                .attr("y2", 13)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        // For legend
        svg_eduPoli.append("line")
                .style("stroke","black")
                .attr("x1", 0)
                .attr("y1", 320)
                .attr("x2", 30)
                .attr("y2", 320)
                .style("stroke","black")
                .style("stroke-width","1")
                .style("stroke-dasharray", ("3, 4"));

        svg_eduPoli.append("text")
                .attr("x", 40)
                .attr("y", 325)
                .style("font-size", "13px")
                .text("Global Weighted Average");


    }



    </script>

    <script>
    $("#poliEdu-asia-button").click(function(){
        $(".poliEdu-asia").css("fill","#324167");
    });

    $("#poliEdu-asia-button-hide").click(function(){
        $(".poliEdu-asia").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#poliEdu-comm-button").click(function(){
        $(".poliEdu-Social").css("fill","#5AB0CD");
    });

    $("#poliEdu-comm-button-hide").click(function(){
        $(".poliEdu-Social").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#poliEdu-gdp-button").click(function(){
        $(".poliEdu-GDP").css("fill","#005E7C");
    });

    $("#poliEdu-gdp-button-hide").click(function(){
        $(".poliEdu-GDP").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#poliEdu-popu-button").click(function(){
        $(".poliEdu-Popu").css("fill","#9BBEC7");
    });

    $("#poliEdu-popu-button-hide").click(function(){
        $(".poliEdu-Popu").css("fill","rgba(201, 201, 201,0.6)");
    });


    </script>


    <p class="article-content" style="margin-top: 50px">
        An interesting question to think about: Why China's political empowerment index can higher than many other countries with greater education attainment score?
    </p>

    <div class="compare-gg-container">

        <h3 class="compare-gg-title">Political Empowerment <span class="compare-gg-vs">vs</span> Health and Survival</h3>

        <div class="compare-button-group01">
        <button id="healthPoli-asia-button">Show Asia</button><button id="healthPoli-asia-button-hide">Hide Asia</button>
        </div>

        <div class="compare-button-group">
        <button id="healthPoli-comm-button">Show Communist States</button><button id="healthPoli-comm-button-hide">Hide Communist States</button>
        </div>

        <div class="compare-button-group">
        <button id="healthPoli-gdp-button">Show GDP TOP 10</button><button id="healthPoli-gdp-button-hide">Hide GDP TOP 10</button>
        </div>

        <div class="compare-button-group">
        <button id="healthPoli-popu-button">Show Population Top 10</button><button id="healthPoli-popu-button-hide">Hide Population Top 10</button>
        </div>

        <div id="gg-compare-healthPoli"></div>

    </div>

    <!-- gg-compare-eduHeath graphic code -->
    <script type="text/javascript">

    var healthPoli_margin = {top: 20, right: 20, bottom: 70, left: 60},
        healthPoli_width = 1200 - margin.left - margin.right,
        healthPoli_height = 300 - margin.top - margin.bottom;

    var xScale_healthPoli = d3.scaleLinear()
        .range([0, healthPoli_width]);

    var yScale_healthPoli = d3.scaleLinear()
        .range([healthPoli_height, 0]);

    var xAxis_healthPoli = d3.axisBottom(xScale_healthPoli)
                        .ticks(5)
                        .tickSize(0)
                        .tickPadding(10);

    var yAxis_healthPoli = d3.axisLeft(yScale_healthPoli)
                        .ticks(3)
                        .tickSize(0)
                        .tickPadding(10);

    var svg_healthPoli = d3.select("#gg-compare-healthPoli").append("svg")
            .attr("width", healthPoli_width + healthPoli_margin.left + healthPoli_margin.right)
            .attr("height", healthPoli_height + healthPoli_margin.top + healthPoli_margin.bottom)
        .append("g")
            .attr("transform", "translate(" + healthPoli_margin.left + "," + healthPoli_margin.top + ")");

    d3.queue()
        .defer(d3.csv, "gg-healthpoli.csv")
        .await(ready);

    function ready(error, healthPoli){
        if (error) throw error;

        xScale_healthPoli.domain([0,1]);
        yScale_healthPoli.domain([0,1]);

        var node_healthPoli = svg_healthPoli.selectAll("g")
                    .data(healthPoli)
                .enter()
                    .append("g");

        // Add tooltips
        var healthPoli_tooltip = d3.select("#gg-compare-healthPoli").append("div")
                            .attr("class","tooltip")
                            .style("opacity", 0);

        var healthPoli_tipMouseover = function(d){
            var html = "<span class='tooltip-countries'>" + d.Countries  + "</span><br/>Political: " + d.Poli + "<br/>Health: " + d.Health;

            healthPoli_tooltip.html(html)
                    .style("left", (d3.event.pageX -30) + "px")
                    .style("top", (d3.event.pageY + 20) + "px")
                .transition()
                    .duration(100) // ms
                      .style("opacity", .9) // started as 0!
        };

        var healthPoli_tipMouseout = function(d){
            healthPoli_tooltip.transition()
                    .duration(300)
                    .style("opacity", 0);
        };

        node_healthPoli.append("circle")
            .attr("class","dot")
            .attr("cx", function(d) {return xScale_healthPoli(d.Poli); })
            .attr("cy", function(d) {return yScale_healthPoli(d.Health); })
            .attr("r", 3.5)
            .style("fill", function(d){
                    if (d.Countries == "China"){
                        return "#C8515F";
                    } else {
                        return "rgb(201, 201, 201)";
                    }
                })
            .style("stroke", function(d){
                    if (d.Countries == "China"){
                        return "none";
                    } else {
                        return "#999";
                    }
            })
            .attr("class", function(d){
                if (d.Category1 == "Asia"){
                        return "healthPoli-asia";
                    } else if (d.Category2 == "GDP"){
                        return "healthPoli-GDP";
                    } else if (d.Category3 == "Popu"){
                        return "healthPoli-Popu";
                    } else if (d.Category4 == "Social"){
                        return "healthPoli-Social";
                    } else if (d.Countries == "China"){
                        return "healthPoli-China";
                    }
            })
            .on("mouseover", healthPoli_tipMouseover)
            .on("mouseout", healthPoli_tipMouseout);

        node_healthPoli.append("text")
            .attr("x", function(d){return xScale_healthPoli(d.Poli) -20;})
            .attr("y", function(d){return yScale_healthPoli(d.Health) + 20; })
            .text(function(d){
                return d.Countries;
            })
            .style("visibility", function(d){
                if (d.Countries == "China"){
                    return "visible";
                } else {
                    return "hidden";
                }
            });

// X-axis Label
        svg_healthPoli.append("text")
                .attr("transform",
                    "translate(" + (healthPoli_width/2) + "," + (healthPoli_height + healthPoli_margin.top + 20) + ")")
                .style("text-anchor", "middle")
                .style("font-size", "13px")
                .style("fill","#5D5D5D")
                .text("Political Empowerment");

// Y-axis Label
        svg_healthPoli.append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", (0 - healthPoli_margin.left))
              .attr("x",0 - (healthPoli_height / 2))
              .attr("dy", "1em")
              .style("text-anchor", "middle")
              .style("font-size", "13px")
              .style("fill","#5D5D5D")
              .text("Health and Survival");   

        svg_healthPoli.append("g")
                .attr("transform","translate(0," + healthPoli_height + ")")
                .call(xAxis_healthPoli);

        svg_healthPoli.append("g")
                .call(yAxis_healthPoli);

// Add average line
        svg_healthPoli.append("line")
                .attr("x1", 267)
                .attr("x2", 267)
                .attr("y1", 0)
                .attr("y2", 260)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        svg_healthPoli.append("line")
                .attr("x1", 0)
                .attr("x2", 1170)
                .attr("y1", 10.5)
                .attr("y2", 10.5)
                .style("stroke","black")
                .style("stroke-dasharray", ("3, 3"));

        // For legend
        svg_healthPoli.append("line")
                .style("stroke","black")
                .attr("x1", 0)
                .attr("y1", 320)
                .attr("x2", 30)
                .attr("y2", 320)
                .style("stroke","black")
                .style("stroke-width","1")
                .style("stroke-dasharray", ("3, 4"));

        svg_healthPoli.append("text")
                .attr("x", 40)
                .attr("y", 325)
                .style("font-size", "13px")
                .text("Global Weighted Average");

    }

    </script>

    <script>
    $("#healthPoli-asia-button").click(function(){
        $(".healthPoli-asia").css("fill","#324167");
    });

    $("#healthPoli-asia-button-hide").click(function(){
        $(".healthPoli-asia").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#healthPoli-comm-button").click(function(){
        $(".healthPoli-Social").css("fill","#5AB0CD");
    });

    $("#healthPoli-comm-button-hide").click(function(){
        $(".healthPoli-Social").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#healthPoli-gdp-button").click(function(){
        $(".healthPoli-GDP").css("fill","#005E7C");
    });

    $("#healthPoli-gdp-button-hide").click(function(){
        $(".healthPoli-GDP").css("fill","rgba(201, 201, 201,0.6)");
    });

    $("#healthPoli-popu-button").click(function(){
        $(".healthPoli-Popu").css("fill","#9BBEC7");
    });

    $("#healthPoli-popu-button-hide").click(function(){
        $(".healthPoli-Popu").css("fill","rgba(201, 201, 201,0.6)");
    });

    </script>


    </div>
    <!-- Compare-gg-container -->

    <p class="article-content" style="margin-top: 50px">
        Overall, China's performance is merely satisfactory, especially when it comes to health and survival. While most countries are scoring very close to 1, China is falling behind. If a country cannot abandon the thought of "sons are better than daughters," how can we expect the female to achieve outstanding accomplishments in other fields? <img src="M.png" style="width: 15px;" />
    </p>

</body>
</html>