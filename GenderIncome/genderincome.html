<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <title>Education v. Income: Gender Gap</title>

    <script src="http://d3js.org/d3.v4.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab" rel="stylesheet">

<style>
    body{
        font-family: 'Zilla Slab', serif;
    }

    h1{
        margin:0;
        padding-left: 30px;
        padding-top: 10px;
    }

    p{
        margin:0;
        padding-left: 30px;
        padding-top: 10px;
    }

    .xaxis .domain{
        display: none;
    }

    .xaxis line{
        stroke: #e0e0e0;
    }

    .xaxis text{
        font-size: 13px;
    }

    .yaxis .domain{
        display: none;
    }

    .yaxis line{
        stroke: #e0e0e0;
        stroke-width: 0.5px;
    }

    #chart {
        width: 520px;
        height: 360px;
        margin-left: 30px;
        float: left;
    }

    #chart2{
        width: 520px;
        height: 360px;
        margin-left: 30px;
        float: left;
    }

    #chart3{
        width: 520px;
        height: 360px;
        margin-left: 30px;
        float: left;
    }

    #chart4{
        width: 520px;
        height: 360px;
        margin-left: 30px;
        float: left;
    }

    #chart5{
        width: 520px;
        height: 360px;
        margin-left: 30px;
        float: left;
    }

    #chart6{
        width: 520px;
        height: 360px;
        margin-left: 30px;
        float: left;
    }

    .overlay {
      fill: none;
      pointer-events: all;
    }



</style>

</head>

<body>
    <h1>How Gender Pay Gap Vary in Education Degrees</h1>
    <p>The higher the degree is, the bigger the gender pay gap. Plus, the gap doesn't change much over the past 6 years.</p>
    <div id="chart"></div>
    <script>
        var margin = {top: 70, left: 40, right: 40, bottom: 30},
            width = 500 - margin.left - margin.right,
            height = 350 - margin.top - margin.bottom;

        var svg = d3.select("#chart")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")"); 

        var x = d3.scaleLinear()
                  .domain([2010,2015])
                  .range([0,width]);

        var y = d3.scaleLinear()
                  .domain([14000,85000])
                  .range([height,0]);

        var z = d3.scaleOrdinal(d3.schemeCategory10)
                .domain(["Male","Female"])
                .range(["#17927C","#F4B7DF"]);

        var line = d3.line()
                .x(function(d){return x(d.Year); })
                .y(function(d){return y(d.Income); });

        d3.queue()
          .defer(d3.csv,"lessHighschool.csv")
          .await(ready);

        function ready(error, data0){
            if(error) throw error;

            var genders = data0.columns.slice(1).map(function(id){
                return {
                    id:id,
                    values:data0.map(function(d){
                        return {Year: d.Year, Income: d[id]};
                    })
                };
            });

            // console.log(genders)

            var chart = svg.selectAll(".gender")
                        .data(genders)
                        .enter().append("g")
                            .attr("class","gender");

            chart.append("path")
                .attr("class","line")
                .attr("d", function(d){return line(d.values); })
                .style("stroke", function(d){return z(d.id); })
                .style("stroke-width",2)
                .attr("fill","none");

            //add axis
            chart.append("g")
                .attr("class","xaxis")
                .attr("transform","translate(0," + height + ")")
                .call(d3.axisBottom(x)
                        .ticks(6)
                        .tickPadding([10])
                        .tickFormat(d3.format(" "))
                        .tickSizeOuter(0));

            svg.append("g")
                .attr("class","yaxis")
                .attr("transform","translate(" + width + ",0)")
                .call(d3.axisLeft(y)
                        .tickFormat(d3.format(",d"))
                        .tickSize(width)
                        .tickSizeOuter(0)
                        .tickPadding([6]))
                .append("text")
                .attr("dy","1em")
                .attr("transform","translate(-341,0)")
                .style("fill","#000")
                .text("Median Income($)");

            svg.append("text")
                .attr("x", 100)
                .attr("y", 0)
                .text("Less than High School Graduate");

            //Add legend
            svg.append("line")
                .attr("x1", 0)
                .attr("x2", 30)
                .attr("y1", -40)
                .attr("y2", -40)
                .attr("class","lines")
                .style("stroke","#17927C")
                .style("stroke-width","4px");

            svg.append("text")
                .attr("x",35)
                .attr("y", -35)
                .style("font-size","15px")
                .text("Male");

            svg.append("line")
                .attr("x1", 80)
                .attr("x2", 110)
                .attr("y1", -40)
                .attr("y2", -40)
                .attr("class","lines")
                .style("stroke","#F4B7DF")
                .style("stroke-width","4px");

            svg.append("text")
                .attr("x",115)
                .attr("y", -35)
                .style("font-size","15px")
                .text("Female");

            //add focus for lines
            var focus = svg.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            var focus2 = svg.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            // console.log(gData[1].Year)

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data0, x0, 1),
                  d0 = data0[i - 1],
                  d1 = data0[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };

        }; 



//Resources: https://stackoverflow.com/questions/39431032/using-d3-filter-in-an-update-function


    </script>

    <div id="chart2"></div>
        <script>
        var margin = {top: 70, left: 40, right: 40, bottom: 30},
            width = 500 - margin.left - margin.right,
            height = 350 - margin.top - margin.bottom;

        var svg2 = d3.select("#chart2")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")"); 

        var x = d3.scaleLinear()
                  .domain([2010,2015])
                  .range([0,width]);

        var y2 = d3.scaleLinear()
                  .domain([14000,85000])
                  .range([height,0]);

        var line12 = d3.line()
                .x(function(d){return x(d.Year); })
                .y(function(d){return y2(d.Male); });

        var line22 = d3.line()
                    .x(function(d){return x(d.Year); })
                    .y(function(d){return y2(d.Female); });

        d3.queue()
          .defer(d3.csv,"highschool.csv")
          .await(ready);

        function ready(error, data1){
            if(error) throw error;

            // console.log(data1)

            svg2.append("path")
                .data([data1])
                .attr("fill","none")
                .attr("stroke","#17927C")
                .attr("stroke-width", 2)
                .attr("d",line12);

            svg2.append("path")
                .data([data1])
                .attr("fill","none")
                .attr("stroke","#F4B7DF")
                .attr("stroke-width", 2)
                .attr("d",line22);

            svg2.append("g")
                .attr("class","xaxis")
                .attr("transform","translate(0," + height + ")")
                .call(d3.axisBottom(x)
                        .ticks(6)
                        .tickPadding([10])
                        .tickFormat(d3.format(" "))
                        .tickSizeOuter(0));

            svg2.append("g")
                .attr("class","yaxis")
                .attr("transform","translate(" + width + ",0)")
                .call(d3.axisLeft(y2)
                        .tickFormat(d3.format(",d"))
                        .tickSize(width)
                        .tickSizeOuter(0)
                        .tickPadding([6]));

            svg2.append("text")
                .attr("x", 70)
                .attr("y", 0)
                .text("High School Graduate (includes equivalency)");

            //add focus for lines
            var focus = svg2.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            var focus2 = svg2.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg2.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data1, x0, 1),
                  d0 = data1[i - 1],
                  d1 = data1[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };


        }; 



//Resources: https://stackoverflow.com/questions/39431032/using-d3-filter-in-an-update-function


    </script>

    <div id="chart3"></div>
        <script>
        var margin = {top: 70, left: 40, right: 40, bottom: 30},
            width = 500 - margin.left - margin.right,
            height = 350 - margin.top - margin.bottom;

        var svg3 = d3.select("#chart3")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")"); 

        var x = d3.scaleLinear()
                  .domain([2010,2015])
                  .range([0,width]);

        var y3 = d3.scaleLinear()
                  .domain([14000,85000])
                  .range([height,0]);

        var line3 = d3.line()
                .x(function(d){return x(d.Year); })
                .y(function(d){return y3(d.Male); });

        var line32 = d3.line()
                    .x(function(d){return x(d.Year); })
                    .y(function(d){return y3(d.Female); });

        d3.queue()
          .defer(d3.csv,"associate.csv")
          .await(ready);

        function ready(error, data2){
            if(error) throw error;

            // console.log(data1)

            svg3.append("path")
                .data([data2])
                .attr("fill","none")
                .attr("stroke","#17927C")
                .attr("stroke-width", 2)
                .attr("d",line3);

            svg3.append("path")
                .data([data2])
                .attr("fill","none")
                .attr("stroke","#F4B7DF")
                .attr("stroke-width", 2)
                .attr("d",line32);

            svg3.append("g")
                .attr("class","xaxis")
                .attr("transform","translate(0," + height + ")")
                .call(d3.axisBottom(x)
                        .ticks(6)
                        .tickPadding([10])
                        .tickFormat(d3.format(" "))
                        .tickSizeOuter(0));

            svg3.append("g")
                .attr("class","yaxis")
                .attr("transform","translate(" + width + ",0)")
                .call(d3.axisLeft(y3)
                        .tickFormat(d3.format(",d"))
                        .tickSize(width)
                        .tickSizeOuter(0)
                        .tickPadding([6]));

            svg3.append("text")
                .attr("x", 80)
                .attr("y", 0)
                .text("Some College or Associate's Degree");

            //add focus for lines
            var focus = svg3.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            var focus2 = svg3.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg3.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data2, x0, 1),
                  d0 = data2[i - 1],
                  d1 = data2[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };

        }; 
</script>

 <div id="chart4"></div>
        <script>
        var margin = {top: 70, left: 40, right: 40, bottom: 30},
            width = 500 - margin.left - margin.right,
            height = 350 - margin.top - margin.bottom;

        var svg4 = d3.select("#chart4")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")"); 

        var x = d3.scaleLinear()
                  .domain([2010,2015])
                  .range([0,width]);

        var y4 = d3.scaleLinear()
                  .domain([14000,85000])
                  .range([height,0]);

        var line4 = d3.line()
                .x(function(d){return x(d.Year); })
                .y(function(d){return y4(d.Male); });

        var line42 = d3.line()
                    .x(function(d){return x(d.Year); })
                    .y(function(d){return y4(d.Female); });

        d3.queue()
          .defer(d3.csv,"bachelor.csv")
          .await(ready);

        function ready(error, data3){
            if(error) throw error;

            // console.log(data1)

            svg4.append("path")
                .data([data3])
                .attr("fill","none")
                .attr("stroke","#17927C")
                .attr("stroke-width", 2)
                .attr("d",line4);

            svg4.append("path")
                .data([data3])
                .attr("fill","none")
                .attr("stroke","#F4B7DF")
                .attr("stroke-width", 2)
                .attr("d",line42);

            svg4.append("g")
                .attr("class","xaxis")
                .attr("transform","translate(0," + height + ")")
                .call(d3.axisBottom(x)
                        .ticks(6)
                        .tickPadding([10])
                        .tickFormat(d3.format(" "))
                        .tickSizeOuter(0));

            svg4.append("g")
                .attr("class","yaxis")
                .attr("transform","translate(" + width + ",0)")
                .call(d3.axisLeft(y4)
                        .tickFormat(d3.format(",d"))
                        .tickSize(width)
                        .tickSizeOuter(0)
                        .tickPadding([6]));

            svg4.append("text")
                .attr("x", 150)
                .attr("y", 0)
                .text("Bachelor's degree");

            //add focus for lines
            var focus = svg4.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            var focus2 = svg4.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg4.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data3, x0, 1),
                  d0 = data3[i - 1],
                  d1 = data3[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };

        }; 
</script>

<div id="chart5"></div>
        <script>
        var margin = {top: 70, left: 40, right: 40, bottom: 30},
            width = 500 - margin.left - margin.right,
            height = 350 - margin.top - margin.bottom;

        var svg5 = d3.select("#chart5")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")"); 

        var x = d3.scaleLinear()
                  .domain([2010,2015])
                  .range([0,width]);

        var y5 = d3.scaleLinear()
                  .domain([14000,85000])
                  .range([height,0]);

        var line5 = d3.line()
                .x(function(d){return x(d.Year); })
                .y(function(d){return y5(d.Male); });

        var line52 = d3.line()
                    .x(function(d){return x(d.Year); })
                    .y(function(d){return y5(d.Female); });

        d3.queue()
          .defer(d3.csv,"graduate.csv")
          .await(ready);

        function ready(error, data4){
            if(error) throw error;

            // console.log(data1)

            svg5.append("path")
                .data([data4])
                .attr("fill","none")
                .attr("stroke","#17927C")
                .attr("stroke-width", 2)
                .attr("d",line5);

            svg5.append("path")
                .data([data4])
                .attr("fill","none")
                .attr("stroke","#F4B7DF")
                .attr("stroke-width", 2)
                .attr("d",line52);

            svg5.append("g")
                .attr("class","xaxis")
                .attr("transform","translate(0," + height + ")")
                .call(d3.axisBottom(x)
                        .ticks(6)
                        .tickPadding([10])
                        .tickFormat(d3.format(" "))
                        .tickSizeOuter(0));

            svg5.append("g")
                .attr("class","yaxis")
                .attr("transform","translate(" + width + ",0)")
                .call(d3.axisLeft(y5)
                        .tickFormat(d3.format(",d"))
                        .tickSize(width)
                        .tickSizeOuter(0)
                        .tickPadding([6]));

            svg5.append("text")
                .attr("x", 100)
                .attr("y", -5)
                .text("Graduate or Professional Degree");


            //add focus for lines
            var focus = svg5.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            var focus2 = svg5.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg5.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data4, x0, 1),
                  d0 = data4[i - 1],
                  d1 = data4[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };

             //add focus for lines
            var focus = svg5.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","1.5em");

            var focus2 = svg5.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg5.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data4, x0, 1),
                  d0 = data4[i - 1],
                  d1 = data4[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };


        }; 
</script>

<div id="chart6"></div>
        <script>
        var margin = {top: 70, left: 40, right: 40, bottom: 30},
            width = 500 - margin.left - margin.right,
            height = 350 - margin.top - margin.bottom;

        var svg6 = d3.select("#chart6")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")"); 

        var x = d3.scaleLinear()
                  .domain([2010,2015])
                  .range([0,width]);

        var y6 = d3.scaleLinear()
                  .domain([14000,85000])
                  .range([height,0]);

        var line6 = d3.line()
                .x(function(d){return x(d.Year); })
                .y(function(d){return y6(d.Male); });

        var line62 = d3.line()
                    .x(function(d){return x(d.Year); })
                    .y(function(d){return y6(d.Female); });

        d3.queue()
          .defer(d3.csv,"all.csv")
          .await(ready);

        function ready(error, data5){
            if(error) throw error;

            // console.log(data1)

            svg6.append("path")
                .data([data5])
                .attr("fill","none")
                .attr("stroke","#17927C")
                .attr("stroke-width", 2)
                .attr("d",line6);

            svg6.append("path")
                .data([data5])
                .attr("fill","none")
                .attr("stroke","#F4B7DF")
                .attr("stroke-width", 2)
                .attr("d",line62);

            svg6.append("g")
                .attr("class","xaxis")
                .attr("transform","translate(0," + height + ")")
                .call(d3.axisBottom(x)
                        .ticks(6)
                        .tickPadding([10])
                        .tickFormat(d3.format(" "))
                        .tickSizeOuter(0));

            svg6.append("g")
                .attr("class","yaxis")
                .attr("transform","translate(" + width + ",0)")
                .call(d3.axisLeft(y6)
                        .tickFormat(d3.format(",d"))
                        .tickSize(width)
                        .tickSizeOuter(0)
                        .tickPadding([6]));

            svg6.append("text")
                .attr("x", 170)
                .attr("y", 0)
                .text("All");

            //add focus for lines
            var focus = svg6.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus.append("circle")
                 .attr("r","3");

            focus.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            var focus2 = svg6.append("g")
                        .attr("class","focus")
                        .style("display","none");

            focus2.append("circle")
                 .attr("r","3");

            focus2.append("text")
                 .attr("class","focusText")
                 .attr("x",-23)
                 .attr("dy","-0.7em");

            svg6.append("rect")
                .attr("class", "overlay")
                .attr("width", width)
                .attr("height", height)
                .on("mouseover", function(){
                    focus.style("display", null); 
                    focus2.style("display", null);})
                .on("mouseout", function(){
                    focus.style("display", "none"); 
                    focus2.style("display", "none"); })
                .on("mousemove", mousemove);

            var bisectDate = d3.bisector(function(d) { return d.Year; }).left;

            function mousemove() {
              var x0 = x.invert(d3.mouse(this)[0]),
                  i = bisectDate(data5, x0, 1),
                  d0 = data5[i - 1],
                  d1 = data5[i],
                  d = x0 - d0.Year > d1.Year - x0 ? d1 : d0;
              focus.attr("transform", "translate(" + x(d.Year) + "," + y(d.Male) + ")");
              focus.select("text").html(function() { return "$" + d.Male; });
              focus.select("text.female").html(function() { return "$" + d.Male; });
              focus2.attr("transform", "translate(" + x(d.Year) + "," + y(d.Female) + ")");
              focus2.select("text").html(function() { return "$" + d.Female; });
              focus2.select("text.female").html(function() { return "$" + d.Female; });
              // console.log(d.values)
            };

        }; 
</script>

</body>
</html>