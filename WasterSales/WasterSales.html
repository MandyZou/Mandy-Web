<!DOCTYPE html>
<head>
    <title>Waster Sales Number</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>

    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="jquery-3.2.1.min.js"></script>

    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Cinzel" rel="stylesheet">

    <style>
    /*Page style*/
    body {
        font-family: 'Cinzel', serif;
    }
    .AlltheMaps{
        position: relative;
        margin: 0 auto;
        padding-left: 10%;
    }
    .buttons{
        position: absolute;
        /*bottom: 0;*/
        padding-left: 10%;
        padding-right: 2%;
    }
    button {
        border: 2px solid #008CBA;
        background-color: white;
        color: #2c2c2c;
        padding: 5px 10px;
        margin-top: 10px;
        margin-left: 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 15px;
    }
    button:hover{
        background-color: #008CBA;
        color: white;
        cursor: pointer
    }
     button:focus {
        outline: 0;
        background-color: #008CBA;
        color: white;
        cursor: pointer
    }

    button:active {
        background-color: #008CBA;
        color: white;
        cursor: pointer
    }

    /*All sales number*/

    #allSalesMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }
    .allSales_selected{
        fill: #FF8282;
    }

    /*bluetooth*/
    #bluetoothMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }
    .bluetooth_selected{
        fill: #FF8282;
    }

    /* Cables */
     #cablesMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }
    .cables_selected{
        fill: #FF8282;
    }

    /* Earphone */
    #earMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }

    .earphone_selected{
        fill: #989BF2
    }

    /* Headphone */
    #headMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }
    .headphone_selected{
        fill: #83BDF9;
    }

    /* Nap Zapper number*/
    #napMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }
    .nap_selected{
        fill: #FF8282;
    }

    /* Paper Speaker */
    #paperMap {
        margin: 0 auto;
        position: absolute;
        /*visibility: hidden;*/
    }
    .paper_selected{
        fill: #58C7AB;
    }

    </style>

</head>

<body>
    <div class="AlltheMaps">
    <p><span style="font-size: 50px; margin-bottom: 70px; font-weight: bold;">Waster Tech LLC</span><span style="font-size: 30px"> World Sales Number</span></p>

    <!-- Bluetooth -->
    <div id="bluetoothMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                   .scale(130)
                  .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var bluetooth_domain = [0,1000,2000,3000,10000,15000,17000,100000,120000];

    var bluetooth_color = d3.scaleThreshold()
                            .domain(bluetooth_domain)
                            .range(d3.schemeRdPu[9]);

    var bluetooth_svg = d3.select("#bluetoothMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

     //Add legend for map
    var ext_bluetooth_domain = [0,1000,3000,10000,17000,120000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = bluetooth_svg.selectAll("g.legend")
        .data(ext_bluetooth_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return bluetooth_color(d); })
      .style("opacity", 0.8);

    legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });

    //tooltip
    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var bluetoothData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesBluetooth.csv", function(d){
        bluetoothData.set(d.Name, +d.Bluetooth_speaker)
      })
      .await(ready);

    function ready(error, mData, sData){
        if (error) throw error;

        //Set else if statement for tooltip
        function showhidefunc(d){
            if(d["All"] !== 0) {
                tooltip.html("<strong>" + (d.properties.name) + " Blue Speaker Sales Volume</strong>:<br/> <span style='color: red'>" + d3.format(",d")(d["All"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
            } else {
                tooltip.style("visibility","hidden");
            }
        };

        bluetooth_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            // .attr("fill", "#c2c2c2")
            .attr("stroke", "#fff")
            .attr("stroke-linejoin", "round")
                .attr("d", path)
                .attr("fill", function(d){
                    return bluetooth_color(d.All = bluetoothData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhidefunc(d);
                 d3.select(this).classed("bluetooth_selected", true);
                 // console.log(d["Bluetooth_speaker"]);
                 console.log(d)
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("bluetooth_selected", false);
            });

    };
    </script>

    <!-- Cables number -->

    <div id="cablesMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                   .scale(130)
                  .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var cables_domain = [0,1000,2000,6000,7000,8000,60000,70000,1100000];

    var cables_color = d3.scaleThreshold()
                            .domain(cables_domain)
                            .range(d3.schemeYlOrBr[9]);

    var cables_svg = d3.select("#cablesMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

    //Add legend for map
    var ext_cables_domain = [0,1000,6000,8000,60000,110000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = cables_svg.selectAll("g.legend")
        .data(ext_cables_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return cables_color(d); })
      .style("opacity", 0.8);

    legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });


    //Add tooltip
    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var cablesData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesCables.csv", function(d){
        cablesData.set(d.Name, +d.Cables)
      })
      .await(ready);

    function ready(error, mData, sData){
        if (error) throw error;

        //Set else if statement for tooltip
        function showhidefunc(d){
            if(d["Cables"] !== 0) {
                tooltip.html("<strong>" + (d.properties.name) + " Cables Sales Volume</strong>:<br/> <span style='color: red'>" + d3.format(",d")(d["Cables"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
            } else {
                tooltip.style("visibility","hidden");
            }
        };

        cables_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            // .attr("fill", "#c2c2c2")
            .attr("stroke", "#fff")
            .attr("stroke-linejoin", "round")
                .attr("d", path)
                .attr("fill", function(d){
                    return cables_color(d.Cables = cablesData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhidefunc(d);
                 d3.select(this).classed("cables_selected", true);
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("cables_selected", false);
            });

    };
    </script>

    <!-- Earphone -->
    <div id="earMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                    .scale(130)
                    .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var earphone_domain = [0,9000, 10000, 30000, 60000, 110000, 120000];

    var earphone_color = d3.scaleThreshold()
                            .domain(earphone_domain)
                            .range(["#f2f0f7", "#EAEAF3", "#bcbddc", "#9e9ac8", "#756bb1", "#54278f", "#321755"]);

    var earphone_svg = d3.select("#earMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

    //Add legend for map
    var ext_earphone_domain = [0,9000,10000,30000,60000,120000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = earphone_svg.selectAll("g.legend")
        .data(ext_earphone_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return earphone_color(d); })
      .style("opacity", 0.8);

    legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });

    //Add tooltip
    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var earphoneData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesEarphone.csv", function(d){
        earphoneData.set(d.Name, +d.earphone)
      })
      .await(ready);

    function ready(error, mData, eData){
        if (error) throw error;

        // console.log(earphoneData)

        function showhideearphone(d){
            if(d["earphone"] !== 0){
                tooltip.html("<strong>" + (d.properties.name) + " Earphone Sales Volume:</strong> <br/><span style='color: red'>" + d3.format(",d")(d["earphone"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY - 10)+ "px").style("left", (d3.event.pageX + 10) + "px");
            } else {
                tooltip.style("visibility", "hidden");
            }
        };


        earphone_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            .attr("d", path)
                .attr("stroke", "#fff")
                .attr("stroke-linejoin", "round")
                .attr("fill", function(d){
                    return earphone_color(d.earphone = earphoneData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhideearphone(d);
                d3.select(this).classed("earphone_selected", true);
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("earphone_selected", false);
            });
    };

    </script>

    <!-- Headphone -->
    <div id="headMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                   .scale(130)
                  .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var headphone_domain = [0,1000,2000,3000,5000,10000,15000,100000];

    var headphone_color = d3.scaleThreshold()
                            .domain(headphone_domain)
                            .range(["rgb(250,252,255)", "rgb(236,243,248)", "rgb(198,219,239)", "rgb(158,202,225)", "rgb(107,174,214)", "rgb(66,146,198)","rgb(33,113,181)","rgb(8,81,156)","rgb(8,48,107)","rgb(3,19,43)"]);

    var headphone_svg = d3.select("#headMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

    //Add legend for map
    var ext_headphone_domain = [0,1000,5000,10000,80000,100000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = headphone_svg.selectAll("g.legend")
        .data(ext_headphone_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return headphone_color(d); })
      .style("opacity", 0.8);

    legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });


    //Add tooltip
    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var headphoneData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesHeadphone2.csv", function(d){
        headphoneData.set(d.Name, +d.Headphone)
      })
      .await(ready);

    function ready(error, mData, sData){
        if (error) throw error;

        //Set else if statement for tooltip
        function showhidefunc(d){
            if(d["Headphone"] !== 0) {
                tooltip.html("<strong>" + (d.properties.name) + " Headphone Sales Volume</strong>:<br/> <span style='color: red'>" + d3.format(",d")(d["Headphone"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
            } else {
                tooltip.style("visibility","hidden");
            }
        };

        headphone_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            // .attr("fill", "#c2c2c2")
            .attr("stroke", "#fff")
            .attr("stroke-linejoin", "round")
                .attr("d", path)
                .attr("fill", function(d){
                    return headphone_color(d.Headphone = headphoneData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhidefunc(d);
                 d3.select(this).classed("headphone_selected", true);
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("headphone_selected", false);
            });

    };

    </script>

    <!-- Nap Zapper -->
    <div id="napMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                   .scale(130)
                  .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var nap_domain = [0,5000,6000,80000,90000,100000,130000,200000,300000];

    var nap_color = d3.scaleThreshold()
                            .domain(nap_domain)
                            .range(d3.schemeReds[9]);

    var nap_svg = d3.select("#napMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

    //Add legend for map
    var ext_nap_domain = [0,5000,80000,90000,100000,200000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = nap_svg.selectAll("g.legend")
        .data(ext_nap_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return nap_color(d); })
      .style("opacity", 0.8);

    legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });

    //Add tooltip
    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var napData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesNap.csv", function(d){
        napData.set(d.Name, +d.Nap_Zappers)
      })
      .await(ready);

    function ready(error, mData, sData){
        if (error) throw error;

        //Set else if statement for tooltip
        function showhidefunc(d){
            if(d["Nap_Zappers"] !== 0) {
                tooltip.html("<strong>" + (d.properties.name) + " Nap Zappers Sales Volume</strong>:<br/> <span style='color: red'>" + d3.format(",d")(d["Nap_Zappers"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
            } else {
                tooltip.style("visibility","hidden");
            }
        };

        nap_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            // .attr("fill", "#c2c2c2")
            .attr("stroke", "#fff")
            .attr("stroke-linejoin", "round")
                .attr("d", path)
                .attr("fill", function(d){
                    return nap_color(d.Nap_Zappers = napData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhidefunc(d);
                 d3.select(this).classed("nap_selected", true);
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("nap_selected", false);
            });

    };
    </script>

    <!-- Paper Speaker -->
    <div id="paperMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                   .scale(130)
                  .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var paper_domain = [0,5000,6000,7000,50000,70000,80000,90000,100000,110000];

    var paper_color = d3.scaleThreshold()
                            .domain(paper_domain)
                            .range(d3.schemeBuGn[9]);

    var paper_svg = d3.select("#paperMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

     //Add legend for map
    var ext_paper_domain = [0,5000,6000,7000,50000,700000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = paper_svg.selectAll("g.legend")
        .data(ext_paper_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return paper_color(d); })
      .style("opacity", 0.8);

   legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });

    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var paperData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesPaperSpeaker.csv", function(d){
        paperData.set(d.Name, +d.Paper_speakers)
      })
      .await(ready);

    function ready(error, mData, sData){
        if (error) throw error;

        //Set else if statement for tooltip
        function showhidefunc(d){
            if(d["Paper_speakers"] !== 0) {
                tooltip.html("<strong>" + (d.properties.name) + " Paper Speaker Sales Volume</strong>:<br/> <span style='color: red'>" + d3.format(",d")(d["Paper_speakers"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
            } else {
                tooltip.style("visibility","hidden");
            }
        };

        paper_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            // .attr("fill", "#c2c2c2")
            .attr("stroke", "#fff")
            .attr("stroke-linejoin", "round")
                .attr("d", path)
                .attr("fill", function(d){
                    return paper_color(d.Paper_speakers = paperData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhidefunc(d);
                 d3.select(this).classed("paper_selected", true);
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("paper_selected", false);
            });

    };
    </script>

    <!-- All sales number -->
    <div id="allSalesMap" width = "960" height = "500"></div>

    <script>
    var margin = {top: 20, left: 20, right: 20, bottom: 20},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;

    var projection = d3.geoMercator()
                   .scale(130)
                  .translate( [width / 2, height / 1.5]);

    var path = d3.geoPath()
        .projection(projection);

    var allSales_domain = [0,10000,20000,150000,200000,300000,350000,800000,900000];

    // var ext_allSales_domain = [0,10000,20000,200000,300000,900000];

    var allSales_color = d3.scaleThreshold()
                            .domain(allSales_domain)
                            .range(d3.schemeBuPu[9]);

    var allSales_svg = d3.select("#allSalesMap")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.top + "," + margin.left + ")");

    //Add legend for map
    var ext_allSales_domain = [0,10000,20000,200000,300000,900000];
    
    var legend_labels = ["Least", , , , ,"Most"];

    var legend = allSales_svg.selectAll("g.legend")
        .data(ext_allSales_domain)
        .enter().append("g")
        .attr("class", "legend")

    var legend_w = 20, legend_h = 20;

    legend.append("rect")
      .attr("x", -30)
      .attr("y", function(d, i){ return height - (i*legend_w) - 2*legend_h;})
      .attr("width", legend_w)
      .attr("height", legend_h)
      .style("fill", function(d, i) { return allSales_color(d); })
      .style("opacity", 0.8);

  legend.append("text")
      .attr("x", -5)
      .attr("y", function(d, i){ return height - (i*legend_h) - legend_h - 4;})
      .text(function(d, i){ return legend_labels[i]; });

//Add tooltip
    var tooltip = d3.select("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden")
                    .style("color", "#2F2F2F")
                    .style("padding", "8px")
                    .style("background-color", "rgba(253, 253, 253, 0.7)")
                    .style("border-style", "solid")
                    .style("border-width", "1px")
                    .style("border-color", "#C5C5C5")
                    .style("font-size", "12px")
                    .style("font-family", "'Roboto', sans-serif")
                    .text("tooltip");


    var allSalesData = d3.map();

    d3.queue()
      .defer(d3.json, "world.json")
      .defer(d3.csv, "WsalesAllSales.csv", function(d){
        allSalesData.set(d.Name, +d.All)
      })
      .await(ready);

    function ready(error, mData, sData){
        if (error) throw error;

        //Set else if statement for tooltip
        function showhidefunc(d){
            if(d["All"] !== 0) {
                tooltip.html("<strong>" + (d.properties.name) + " Total Sales Volume</strong>:<br/> <span style='color: red'>" + d3.format(",d")(d["All"]) + "</span>");
                tooltip.style("visibility", "visible");
                tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
            } else {
                tooltip.style("visibility","hidden");
            }
        };

        allSales_svg.selectAll("path")
            .data(mData.features)
            .enter().append("path")
            .attr("class", function(d){return d.properties.name})
            // .attr("fill", "#c2c2c2")
            .attr("stroke", "#fff")
            .attr("stroke-linejoin", "round")
                .attr("d", path)
                .attr("fill", function(d){
                    return allSales_color(d.All = allSalesData.get(d.properties.name));
                })
            .on("mouseover", function(d){
                showhidefunc(d);
                 d3.select(this).classed("allSales_selected", true);
            })
            .on("mouseout", function(d){
                tooltip.style("visibility", "hidden");
                d3.select(this).classed("allSales_selected", false);
            });

    };

//Resources:
//http://bl.ocks.org/micahstubbs/8e15870eb432a21f0bc4d3d527b2d14f
//https://bl.ocks.org/fil/0bf58d23011ab244c657a1262bcbe4b2


// Data source: http://www.naturalearthdata.com/downloads/110m-cultural-vectors/
    </script>

<div class="buttons">
<button id="headphone_button">Headphone</button>
<button id="earphone_button">Earphone</button>
<button id="paper_button">Paper Speaker</button>
<button id="bluetooth_button">Bluetooth Speaker</button>
<button id="cables_button">Cables</button>
<button id="nap_button">Nap Zappers</button>
<button id="all_button">Total Sales Volume</button>
</div>
<!-- End of buttons div -->
</div>
<!-- End of all the maps div-->

<script>
    $("#headphone_button").click(function(){
        $("#bluetoothMap").hide();
        $("#headMap").show();
        $("#allSalesMap").hide();
        $("#earMap").hide();
        $("#napMap").hide();
        $("#cablesMap").hide();
        $("#paperMap").hide();
        console.log("click!")
    });

    $("#earphone_button").click(function(){
        $("#bluetoothMap").hide();
        $("#headMap").hide();
        $("#allSalesMap").hide();
        $("#earMap").show();
        $("#napMap").hide();
        $("#cablesMap").hide();
        $("#paperMap").hide();
        console.log("click!")
    });

    $("#paper_button").click(function(){
        $("#bluetoothMap").hide();
        $("#headMap").hide();
        $("#allSalesMap").hide();
        $("#earMap").hide();
        $("#napMap").hide();
        $("#cablesMap").hide();
        $("#paperMap").show();
        console.log("click!")
    });

    $("#bluetooth_button").click(function(){
        $("#bluetoothMap").show();
        $("#headMap").hide();
        $("#allSalesMap").hide();
        $("#earMap").hide();
        $("#napMap").hide();
        $("#cablesMap").hide();
        $("#paperMap").hide();
        console.log("click!")
    });

    $("#cables_button").click(function(){
        $("#bluetoothMap").hide();
        $("#headMap").hide();
        $("#allSalesMap").hide();
        $("#earMap").hide();
        $("#napMap").hide();
        $("#cablesMap").show();
        $("#paperMap").hide();
        console.log("click!")
    });

    $("#nap_button").click(function(){
        $("#bluetoothMap").hide();
        $("#headMap").hide();
        $("#allSalesMap").hide();
        $("#earMap").hide();
        $("#napMap").show();
        $("#cablesMap").hide();
        $("#paperMap").hide();
        console.log("click!")
    });

    $("#all_button").click(function(){
        $("#bluetoothMap").hide();
        $("#headMap").hide();
        $("#allSalesMap").show();
        $("#earMap").hide();
        $("#napMap").hide();
        $("#cablesMap").hide();
        $("#paperMap").hide();
        console.log("click!")
    });




</script>


</body>
</html>